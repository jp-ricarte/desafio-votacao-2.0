<div class="card">
    <p-table [value]="pautas" [paginator]="true" [rows]="5">
        <ng-template pTemplate="caption" *ngIf="user.is_admin">
            <div class="d-flex align-items-center justify-content-end">
                <button type="button" class="btn btn-primary" (click)="createPauta()">
                    <i class="pi pi-plus"></i>
                     Criar Pauta
                </button>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th class="text-truncate" style="width: 10%;">Código</th>
                <th class="text-truncate" style="width: 35%;">Pauta</th>
                <th class="text-truncate text-center" style="width: 20%;">Término da Votação</th>
                <th class="text-truncate text-center" style="width: 20%;">Status da Sessão</th>
                <th class="text-truncate text-center" style="width: 15%;">Ações</th>
            </tr>
        </ng-template>
    
        <ng-template pTemplate="body" let-pauta>
            <tr>
                <td>{{ pauta.id }}</td>
                <td>{{ pauta.title }}</td>
                <td class="text-center">{{ pauta.voting_end | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                <td class="text-center">
                    <p-tag
                        *ngIf="pauta.status === 1"
                        value="Andamento"
                        severity="info"
                    ></p-tag>
                    <p-tag
                        *ngIf="pauta.status === 0"
                        value="Encerrada"
                        severity="warning"
                    ></p-tag>
                </td>
                <td class="text-center">
                    <button
                        type="button"
                        class="btn btn-primary mr-2"
                        (click)="openPauta(pauta.id)"
                    > <i class="pi pi-eye"></i> Abrir Pauta </button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>
